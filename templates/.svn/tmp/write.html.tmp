{% extends "layout.html" %}
{% block title %}{{module_name|capfirst}} 글쓰기{% endblock %}

{% block script %}
<script src="/site_media/daumeditor/js/editor.js" type="text/javascript" charset="utf-8"></script>
<script src="/site_media/daumeditor/js/editor_sample.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
	// <![CDATA[
		/*-------- 글 등록할 때 필요한 함수들 시작 ----------*/
		
		/* 예제용 함수 */
		function saveContent() {
			Editor.save(); /* 이 함수를 호출하여 글을 등록하면 된다. */
		}
		
		/**
		 * Editor.save()를 호출한 경우 데이터가 유효한지 검사하기 위해 부르는 콜백함수로 
		 * 상황에 맞게 수정하여 사용한다.
		 * 모든 데이터가 유효할 경우에 true를 리턴한다. 
		 * @function
		 * @param {Object} editor - 에디터에서 넘겨주는 editor 객체
		 * @returns {Boolean} 모든 데이터가 유효할 경우에 true
		 */
		function validForm(editor) { 
			/* 제목 필드가 따로 존재할 경우 'tx_article_title'를 해당 아이디로 교체하여 사용. */
			if($tx('tx_article_title').value == ""){
				alert('제목을 입력하세요');
				return false;
			}

			/* 본문 내용이 입력되었는지 검사하는 부분 */
			var _validator = new Trex.Validator();
			var _content = editor.getContent();
			if(!_validator.exists(_content)) {
				alert('내용을 입력하세요');
				return false;
			}
			
			return true;
		}
		
		/**
		 * Editor.save()를 호출한 경우 데이터가 유효하면
		 * Form Summit을 위해 필드를 생성, 변경하기 위해 부르는 콜백함수로 
		 * 상황에 맞게 수정하여 사용한다.
		 * 정상적인 경우에 true를 리턴한다. 
		 * @function
		 * @param {Object} editor - 에디터에서 넘겨주는 editor 객체
		 * @returns {Boolean} 정상적인 경우에 true
		 */
		function setForm(editor) {
			var _formGen = editor.getForm();
			
			var _content = editor.getContent();
			_formGen.createField(
				tx.textarea({ 
					/* 본문 내용을 필드를 생성하여 값을 할당하는 부분 */
					'name': "tx_content", 
					'style': { 'display': "none" } 
				}, 
				_content)
			);

			/* 아래의 코드는 첨부된 데이터를 필드를 생성하여 값을 할당하는 부분으로 상황에 맞게 수정하여 사용한다.
			 첨부된 데이터 중에 주어진 종류(image,file..)에 해당하는 것만 배열로 넘겨준다. */  
			// var _attachments = editor.getAttachments('image');
			// for(var i=0,len=_attachments.length;i<len;i++) {
			// 	/* existStage는 현재 본문에 존재하는지 여부 */ 
			// 	if (_attachments[i].existStage) {
			// 		/* data는 팝업에서 execAttach 등을 통해 넘긴 데이터 */
			// 		alert(_attachments[i].data);
			// 		_formGen.createField(
			// 			tx.input({ 
			// 				'type': "hidden", 
			// 				'name': 'tx_attach_image', 
			// 				'value': _attachments[i].data.imageurl /* 예에서는 이미지경로만 받아서 사용 */
			// 			})
			// 		);
			// 	}
			// }
			
			return true;
		}
		/*-------- 글 등록할 때 필요한 함수들 끝 ----------*/
		// ]]>
	</script>
<script type="text/javascript">
// <![CDATA[
	/*-------- 컨텐츠 불러오기 시작 ----------*/
	/* 예제용 함수 */
	function loadContent() {
		var attachments = {};
		
		attachments['image'] = [];
		attachments['file'] = [];

                {% for file in doc.file_set.all %}

                {% ifequal file.file_type 2 %}
		attachments['image'].push( { 
			'attacher': 'image', 
			'data': { 
				'imageurl': '/file/{{file.id}}?type=2&size=3',
				'filename': '{{file.file_name}}',
				'filesize': {{file.file_size}},
				'originalurl': '/file/{{file.id}}?type=2&size=1',
				'thumburl': '/file/{{file.id}}?type=2&size=2',
			}
		});
                {% else %}
		attachments['file'].push({
			'attacher': 'file', 
			'data': {
				'attachurl': '/file/{{file.id}}?type=1',
				'filemime': '{{file.mime_type}}',
				'filename': '{{file.file_name}}',
				'filesize': {{file.file_size}}
			}
		});
                {% endifequal %}

                {% endfor %}
	

		
		/* 저장된 컨텐츠를 불러오기 위한 함수 호출 */
		Editor.modify({
			"attachments": function() { /* 저장된 첨부가 있을 경우 배열로 넘김, 위의 부분을 수정하고 아래 부분은 수정없이 사용 */
				var allattachments = [];
				for(var i in attachments) {
					allattachments = allattachments.concat(attachments[i]);
				}
				return allattachments;
			}(),
			"content": $tx("tx_load_content") /* 내용 문자열, 주어진 필드(textarea) 엘리먼트 */ 
		});
	}
	/**/
$(document).ready(function() {
    loadContent();
});
// ]]>
</script>
{% endblock %}

{% block link %}
<link rel="stylesheet" href="/site_media/daumeditor/css/editor.css" type="text/css"  charset="utf-8"/>
	<style type="text/css">
		.header {
			font-size:12px; color:#fff; font-weight:bold; 
			height:23px; margin:0; padding:11px 9px 0 20px; 
			background-image:url(http://icon.daum-img.net/editor/music/bg_top.gif?rv=1.0.1); 
		}
		

		form { padding:0;margin:0; }
		.field {
			padding: 0; margin:10px 0;
		}
		.field input {
			background:#fafafa; height:14px; padding:2px 0 0 2px;
			border-color:#bdbdbd #d1d1d1 #d1d1d1 #bdbdbd; border-style:solid; border-width:1px;
			color:#666666; font-size:12px;
		}
		.field select { font-size:12px; }
		
		.alert { padding:0; background:url(http://icon.daum-img.net/editor/file/ico_stop.gif?rv=1.0.1) 0 0 no-repeat; margin:14px 36px 21px; color:#999; }
		.alert dt { margin:0; font-size:12px; font-weight:bold; color:#6486e4; padding:8px 0 9px 37px; }
		.alert dd { line-height:17px; margin:0 0 0 36px; padding:0;}
		.alert strong { 
			color:#a7b9ec; font-weight:normal;
		}
		.alert a { color:#666; text-decoration:none; background:url(http://icon.daum-img.net/editor/file/b_link.gif?rv=1.0.1) 100% 50% no-repeat; padding:0 7px 0 0; }
		.alert a:hover { text-decoration:underline; }
		
		.footer {
			padding:10px 0 10px 330px; margin:10px 0 0 0; height:25px; background-color:#e9e9e9; clear:both;
		}
		
		{% ifequal LANGUAGE_CODE "en" %}
		div.body {
		margin-top:50px;
		}
		{% endifequal %}

		/* width, position  */
		{% ifequal module_name "blog" %}
		.wrapper { width:683px; margin:auto;padding: 0 20px; }
		{% else %}
		.wrapper { width:500px; margin:auto;padding: 0 20px; }
		{% endifequal %}
	</style>
{% endblock %}

{% block content %}
<div class="body">
  <!-- 에디터 시작 -->
  <!--
      @decsription 
      등록하기 위한 Form으로 상황에 맞게 수정하여 사용한다. Form 이름은 에디터를 생성할 때 설정값으로 설정한다. 
  -->
  <form name="tx_editor_form" id="tx_editor_form" action="." method="post" accept-charset="utf-8"> 


   <input id="attach_images" type="hidden" name="attach_images" value="" />
   <input id="attach_files" type="hidden" name="attach_files" value="" />
    <div class="wrapper">
      <div class="field">
	<div class="float_left">
	<span style="color:gray" class="small">제목</span>&nbsp;<input type="text" style="width: 400px;" name="tx_article_title" id="tx_article_title"
	{% if doc %}value="{{doc.title}}"{% else %}value="제목을 입력하세요"{%endif%}
	title="제목을 입력하세요" onclick="javascript:title_focus(this);"/>
	</div>

	<div class="float_right">


	{% ifequal module_name 'blog' %}
	{% if user.is_superuser %}
	<span style="color:gray" class="small">카테고리</span>
	<select name="tx_article_category">
	  <option value="1" {% ifequal category 'allak' %}selected="selected"{%endifequal%}>allak</option>
	  <option value="2" {% ifequal category 'worry' %}selected="selected"{%endifequal%}>worry</option>
	</select>
	{% else %}
	<input type="hidden" name="tx_article_category" value="2" />
	{% endif %}
	{% else %}
	<input type="hidden"
	{% if doc %}
	value="{{doc.category}}"
	{% else %}
	value="{{category}}"
	{% endif %}
	name="tx_article_category" />
	{% endifequal %}
	<!-- 제목, 카테고리 영역 끝 -->
	</div>
	<div class="clear_both"></div>
	</div>
      <!-- 에디터 컨테이너 시작 -->
      <div id="tx_trex_container" class="tx-editor-container">
	<!-- 툴바 - 기본 시작 -->
	<!-- 
	     @decsription
	     툴바 버튼의 그룹핑의 변경이 필요할 때는 위치(왼쪽, 가운데, 오른쪽) 에 따라 <li> 아래의 <div>의 클래스명을 변경하면 된다.
	     tx-btn-lbg: 왼쪽, tx-btn-bg: 가운데, tx-btn-rbg: 오른쪽, tx-btn-lrbg: 독립적인 그룹
	     
	     드롭다운 버튼의 크기를 변경하고자 할 경우에는 넓이에 따라 <li> 아래의 <div>의 클래스명을 변경하면 된다.
	     tx-slt-70bg, tx-slt-59bg, tx-slt-42bg, tx-btn-43lrbg, tx-btn-52lrbg, tx-btn-57lrbg, tx-btn-71lrbg
	     tx-btn-48lbg, tx-btn-48rbg, tx-btn-30lrbg, tx-btn-46lrbg, tx-btn-67lrbg, tx-btn-49lbg, tx-btn-58bg, tx-btn-46bg, tx-btn-49rbg
	-->  
	<div id="tx_toolbar_basic" class="tx-toolbar tx-toolbar-basic"><div class="tx-toolbar-boundary" style="border:0;border-top:1px solid #cdcdcd;">
	  <!-- <ul class="tx-bar tx-bar-left" style="z-index:100"> -->
	  <!--   <li class="tx-list"> -->
	  <!--     <div id="tx_fontfamily" unselectable="on" class="tx-slt-70bg tx-fontfamily"> -->
	  <!-- 	<a href="javascript:;" title="글꼴">굴림</a> -->
	  <!--     </div> -->
	  <!--     <div id="tx_fontfamily_menu" class="tx-fontfamily-menu tx-menu" unselectable="on"></div> -->
	  <!--   </li> -->
	  <!-- </ul> -->

	  <!-- <ul class="tx-bar tx-bar-left"> -->
	  <!--   <li class="tx-list"> -->
	  <!--     <div unselectable="on" class="tx-slt-42bg tx-fontsize" id="tx_fontsize"> -->
	  <!-- 	<a href="javascript:;" title="글자크기">9pt</a> -->
	  <!--     </div> -->
	  <!--     <div id="tx_fontsize_menu" class="tx-fontsize-menu tx-menu" unselectable="on"></div> -->
	  <!--   </li> -->
	  <!-- </ul> -->

	  <ul class="tx-bar tx-bar-left tx-group-font"> 
	    <li class="tx-list">
	      <div unselectable="on" class="		 tx-btn-lbg 	tx-bold" id="tx_bold">
		<a href="javascript:;" class="tx-icon" title="굵게 (Ctrl+B)">굵게</a>
	      </div>
	    </li>
	    <li class="tx-list">
	      <div unselectable="on" class="		 tx-btn-bg 	tx-underline" id="tx_underline">
		<a href="javascript:;" class="tx-icon" title="밑줄 (Ctrl+U)">밑줄</a>
	      </div>
	    </li>
	    <li class="tx-list">
	      <div unselectable="on" class="		 tx-btn-bg 	tx-italic" id="tx_italic">
		<a href="javascript:;" class="tx-icon" title="기울임 (Ctrl+I)">기울임</a>
	      </div>
	    </li>
	    <li class="tx-list">
	      <div unselectable="on" class="		 tx-btn-rbg 	tx-strike" id="tx_strike">
		<a href="javascript:;" class="tx-icon" title="취소선 (Ctrl+D)">취소선</a>
	      </div>
	      <div id="tx_backcolor_menu" class="tx-menu tx-backcolor-menu tx-colorpallete" unselectable="on"></div>
	    </li>
	  </ul>

	  <ul class="tx-bar tx-bar-left tx-group-align"> 
	    <li class="tx-list">
	      <div unselectable="on" class="		 tx-btn-lbg 	tx-alignleft" id="tx_alignleft">
		<a href="javascript:;" class="tx-icon" title="왼쪽정렬 (Ctrl+,)">왼쪽정렬</a>
	      </div>
	    </li>
	    <li class="tx-list">
	      <div unselectable="on" class="		 tx-btn-bg 	tx-aligncenter" id="tx_aligncenter">
		<a href="javascript:;" class="tx-icon" title="가운데정렬 (Ctrl+.)">가운데정렬</a>
	      </div>
	    </li>
	    <li class="tx-list">
	      <div unselectable="on" class="		 tx-btn-bg 	tx-alignright" id="tx_alignright">
		<a href="javascript:;" class="tx-icon" title="오른쪽정렬 (Ctrl+/)">오른쪽정렬</a>
	      </div>
	    </li>
	    <li class="tx-list">
	      <div unselectable="on" class="		 tx-btn-rbg 	tx-alignfull" id="tx_alignfull">
		<a href="javascript:;" class="tx-icon" title="양쪽정렬">양쪽정렬</a>
	      </div>
	    </li>
	  </ul>
	  <ul class="tx-bar tx-bar-left tx-group-tab"> 
	    <li class="tx-list">
	      <div unselectable="on" class="		 tx-btn-lbg 	tx-indent" id="tx_indent">
		<a href="javascript:;" title="들여쓰기 (Tab)" class="tx-icon">들여쓰기</a>
	      </div>
	    </li>
	    <li class="tx-list">
	      <div unselectable="on" class="		 tx-btn-bg 	tx-outdent" id="tx_outdent">
		<a href="javascript:;" title="내어쓰기 (Shift+Tab)" class="tx-icon">내어쓰기</a>
	      </div>
	    </li>

	    <li class="tx-list">
	      <div unselectable="on" class="tx-slt-31rbg tx-styledlist" id="tx_styledlist">
		<a href="javascript:;" class="tx-icon" title="리스트">리스트</a>
		<a href="javascript:;" class="tx-arrow" title="리스트">리스트 선택</a>
	      </div>
	      <div id="tx_styledlist_menu" class="tx-styledlist-menu tx-menu" unselectable="on"></div>
	    </li>
	  </ul>



	  <ul class="tx-bar tx-bar-left tx-group-etc">

	    <!-- <li class="tx-list"> -->
	    <!--   <div unselectable="on" class="tx-btn-lbg 	tx-emoticon" id="tx_emoticon"> -->
	    <!-- 	<a href="javascript:;" class="tx-icon" title="이모티콘">이모티콘</a> -->
	    <!--   </div> -->
	    <!--   <div id="tx_emoticon_menu" class="tx-emoticon-menu tx-menu" unselectable="on"></div> -->
	    <!-- </li> -->

	    <li class="tx-list">
	      <div unselectable="on" class="		 tx-btn-lbg 	tx-link" id="tx_link">
		<a href="javascript:;" class="tx-icon" title="링크 (Ctrl+K)">링크</a>
	      </div>
	      <div id="tx_link_menu" class="tx-link-menu tx-menu"></div>
	    </li>
	    <li class="tx-list">
	      <div unselectable="on" class="		 tx-btn-bg 	tx-specialchar" id="tx_specialchar">
		<a href="javascript:;" class="tx-icon" title="특수문자">특수문자</a>
	      </div>
	      <div id="tx_specialchar_menu" class="tx-specialchar-menu tx-menu"></div>
	    </li>
	    <li class="tx-list">
	      <div unselectable="on" class="		 tx-btn-bg 	tx-table" id="tx_table">
		<a href="javascript:;" class="tx-icon" title="표만들기">표만들기</a>
	      </div>
	      <div id="tx_table_menu" class="tx-table-menu tx-menu" unselectable="on">
		<div class="tx-menu-inner">
		  <div class="tx-menu-preview"></div>
		  <div class="tx-menu-rowcol"></div>
		  <div class="tx-menu-deco"></div>
		  <div class="tx-menu-enter"></div>
		</div>
	      </div>
	    </li>

	    <li class="tx-list">
	      <div unselectable="on" class="		 tx-btn-bg 	tx-quote" id="tx_quote">
		<a href="javascript:;" class="tx-icon" title="인용구 (Ctrl+Q)">인용구</a>
	      </div>
	      <div id="tx_quote_menu" class="tx-quote-menu tx-menu" unselectable="on"></div>
	    </li>



	    <li class="tx-list">
	      <div unselectable="on" class="		 tx-btn-rbg 	tx-horizontalrule" id="tx_horizontalrule">
		<a href="javascript:;" class="tx-icon" title="구분선">구분선</a>
	      </div>
	      <div id="tx_horizontalrule_menu" class="tx-horizontalrule-menu tx-menu" unselectable="on"></div>
	    </li>
	  </ul>
	  <ul class="tx-bar tx-bar-left tx-group-list">
	    <!-- <li class="tx-list"> -->
	    <!--   <div unselectable="on" class="tx-slt-31lbg tx-lineheight" id="tx_lineheight"> -->
	    <!-- 	<a href="javascript:;" class="tx-icon" title="줄간격">줄간격</a> -->
	    <!-- 	<a href="javascript:;" class="tx-arrow" title="줄간격">줄간격 선택</a> -->
	    <!--   </div> -->
	    <!--   <div id="tx_lineheight_menu" class="tx-lineheight-menu tx-menu" unselectable="on"></div> -->
	    <!-- </li> -->

	  </ul>

	  <ul class="tx-bar tx-bar-left tx-nav-attach" style="padding-top:4px;float:right">
	    <!-- 이미지 첨부 버튼 시작 -->
	    <li class="tx-list">
	      <div unselectable="on" id="tx_image" class="tx-image tx-btn-trans">
		<a href="javascript:;" title="사진" class="tx-text">사진</a>
	      </div>
	    </li>
	    <!-- 이미지 첨부 버튼 끝 -->
	    <li class="tx-list">
	      <div unselectable="on" id="tx_file" class="tx-file tx-btn-trans">
		<a href="javascript:;" title="파일" class="tx-text">파일</a>
	      </div>
	    </li>
	  </ul>

	</div></div>

	<!-- 편집영역 시작 -->
	<!-- 에디터 Start -->
	<div id="tx_canvas" class="tx-canvas">
	  <div id="tx_loading" class="tx-loading"><div><img src="/site_media/daumeditor/images/icon/loading2.png?rv=1.0.1" width="113" height="21" align="absmiddle"/></div></div>
	  <div id="tx_canvas_wysiwyg_holder" class="tx-holder" style="display:block;">
	    <iframe id="tx_canvas_wysiwyg" name="tx_canvas_wysiwyg" allowtransparency="true" frameborder="0"></iframe>
	  </div>
	  <div class="tx-source-deco">
	    <div id="tx_canvas_source_holder" class="tx-holder">
	      <textarea id="tx_canvas_source" rows="30" cols="30"></textarea>
	    </div>
	  </div>
	  <div id="tx_canvas_text_holder" class="tx-holder">
	    <textarea id="tx_canvas_text" rows="30" cols="30"></textarea>
	  </div>	
	</div>

	<!-- <div id="tx_toolbar_basic" class="tx-toolbar tx-toolbar-basic"><div class="tx-toolbar-boundary" style="border:0px;border-top:1px solid #cdcdcd;"> -->
	<!--   <ul class="tx-bar tx-bar-left tx-nav-attach" style="padding-top:4px;"> -->
	<!--     <li class="tx-list"> -->
	<!--       <div unselectable="on" id="tx_image" class="tx-image tx-btn-trans"> -->
	<!-- 	<a href="javascript:;" title="사진" class="tx-text">사진</a> -->
	<!--       </div> -->
	<!--     </li> -->
	<!--     <li class="tx-list"> -->
	<!--       <div unselectable="on" id="tx_file" class="tx-file tx-btn-trans"> -->
	<!-- 	<a href="javascript:;" title="파일" class="tx-text">파일</a> -->
	<!--       </div> -->
	<!--     </li> -->
	<!--   </ul> -->

	<!--   <ul class="tx-bar tx-bar-right tx-nav-opt"> -->
	<!--     <li class="tx-list"> -->
	<!--       <div unselectable="on" class="tx-switchtoggle" id="tx_switchertoggle"> -->
	<!-- 	<a href="javascript:;" title="에디터 타입">에디터</a> -->
	<!--       </div> -->
	<!--     </li> -->
	<!--   </ul> -->
	<!-- </div></div> -->
	<!-- 툴바 - 기본 끝 -->



	<!-- 높이조절 Start -->
	<div id="tx_resizer" class="tx-resize-bar">
	  <div class="tx-resize-bar-bg"></div>
	  <img id="tx_resize_holder" src="/site_media/daumeditor/images/icon/btn_drag01.gif" width="58" height="12" unselectable="on" alt="" />
	</div>

	{% ifequal module_name "blog" %}
	<div>
	  <span >태그달기</span>
	  <span><input onclick="javascript:tag_click(this)" style="width:360px;height:14px;font-size:0.95em" type="text" name="tags"

	  {% if doc %}
	  value="{{tags|join:", "}}"
	  {% else %}
	  title="*태그와 태그는 콤마(,)로 구분되며 최대 10개까지 입력하실 수 있습니다." /></span>
	  {% endif %}
	</div>
	{% endifequal %}

	<!-- 편집영역 끝 -->
	<!-- is_secret, twitter, html(for superuser) -->
	{% if user.is_superuser %}
	<ul class="tx-bar tx-bar-right tx-nav-opt">
	  <li class="tx-list">
	    <div unselectable="on" class="tx-switchtoggle" id="tx_switchertoggle">
	      <a href="javascript:;" title="에디터 타입">에디터</a>
	    </div>
	  </li>
	</ul>
	{% endif %}

	<ul class="tx-bar tx-bar-right tx-nav-opt" style="float:right;">
	  <li class="tx-list">
	    <input type="checkbox" name="is_secret" /><span>비밀글</span>
	  </li>

	  <li class="tx-list">
	    <input type="checkbox" name="twitter" /><span>트위터로 올리기</span>
	  </li>
	</ul>
	<!-- ~is_secret, twitter, html(for superuser) -->
	<div style="clear:both"></div>
	<!-- 첨부박스 시작 -->
	<!-- 파일첨부박스 Start -->
	<div id="tx_attach_div" class="tx-attach-div">
	  <div id="tx_attach_txt" class="tx-attach-txt">파일 첨부</div>
	  <div id="tx_attach_box" class="tx-attach-box">
	    <div class="tx-attach-box-inner">
	      <div id="tx_attach_preview" class="tx-attach-preview"><p></p><img src="/site_media/daumeditor/images/icon/pn_preview.gif" width="147" height="108" unselectable="on"/></div>
	      <div class="tx-attach-main">
		<div id="tx_upload_progress" class="tx-upload-progress"><div>0%</div><p>파일을 업로드하는 중입니다.</p></div>
		<ul class="tx-attach-top">
		  <li id="tx_attach_delete" class="tx-attach-delete"><a>전체삭제</a></li>
		  <li id="tx_attach_size" class="tx-attach-size">
		    파일: <span id="tx_attach_up_size" class="tx-attach-size-up"></span>/<span id="tx_attach_max_size"></span>
		  </li>
		  <li id="tx_attach_tools" class="tx-attach-tools">
		  </li>
		</ul>
		<ul id="tx_attach_list" class="tx-attach-list"></ul>
	      </div>
nnn	    </div>
	  </div>
	</div>
	<!-- 첨부박스 끝 -->
      </div>

      <div style="text-align:right">
      <a href="/{{module_name}}/?category={{category}}"><img src="/site_media/images/bttn_list.png" /></a>
      <input type="image" src="/site_media/images/confirm_btn.png" onclick="saveContent();" />
      </div>
      <!-- 에디터 컨테이너 끝 -->
    </div>
  </form>
</div>
<script type="text/javascript">
// <![CDATA[

	/*-------- 에디터 로드 시작 ----------*/
	new Editor({
	    txHost: 'http://localhost:8000', /* 런타임 시 리소스들을 로딩할 때 필요한 부분으로, 경로가 변경되면 이 부분 수정이 필요. ex) http://xxx.xxx.com */
	    txPath: '/site_media/daumeditor/', /* 런타임 시 리소스들을 로딩할 때 필요한 부분으로, 경로가 변경되면 이 부분 수정이 필요. ex) /xxx/xxx/ */
	    txVersion: '5.4.0', /* 수정필요없음. */
	    txService: 'sample', /* 수정필요없음. */
	    txProject: 'sample', /* 수정필요없음. 프로젝트가 여러개일 경우만 수정한다. */
	    initializedId: "", /* 대부분의 경우에 빈문자열 */
	    wrapper: "tx_trex_container"+"", /* 에디터를 둘러싸고 있는 레이어 이름(에디터 컨테이너) */
	    form: 'tx_editor_form'+"", /* 등록하기 위한 Form 이름 */
	    txIconPath: "/site_media/daumeditor/images/icon/", /*에디터에 사용되는 이미지 디렉터리, 필요에 따라 수정한다. */
	    txDecoPath: "/site_media/daumeditor/images/deco/", /*본문에 사용되는 이미지 디렉터리, 서비스에서 사용할 때는 완성된 컨텐츠로 배포되기 위해 절대경로로 수정한다. */
	    canvas: {
		styles: {
		    color: "#000000", /* 기본 글자색 */
		    fontFamily: "명조", /* 기본 글자체 */
		    fontSize: "10pt", /* 기본 글자크기 */
		    backgroundColor: "", /*기본 배경색 */
		    lineHeight: "1.5", /*기본 줄간격 */
		    padding: "8px" /* 위지윅 영역의 여백 */
		}
	    },
	    sidebar: {
		attacher: {
		    image: {
                           features: { left: 0, top: 0, width: 350, height: 150 }
		    },
		    file: {
                           features: { left: 0, top: 0, width: 350, height: 150 }
		    }
		}
	    },
	    size: {
	    {% ifequal module_name "blog" %}
		contentWidth: 683 /* 지정된 본문영역의 넓이가 있을 경우에 설정 */
	    {% else %}
		contentWidth: 500 /* 지정된 본문영역의 넓이가 있을 경우에 설정 */
	    {% endifequal %}
	    }
	}).focusOnForm("tx_article_title");
    /*-------- 에디터 로드 끝 ----------*/
    // ]]>
</script>
<textarea style="display:none" id="tx_load_content" cols="80" rows="10">
{% if doc %}
{{doc.content}}
{% endif %}
</textarea>
{% endblock %}
